{% extends "base.html" %}

{% block title %}Order Details - {{ order.id }}{% endblock %}

{% block content %}
<div style="padding: 40px 20px; max-width: 1000px; margin: 0 auto;">
    <h2 style="color: var(--primary-green); margin-bottom: 30px; text-align: center; font-size: 2.5rem;">
        Order #{{ order.id }}
    </h2>

    <div style="background: var(--white); border-radius: 15px; box-shadow: var(--shadow); padding: 30px; margin-bottom: 30px;">
        <p><strong>User ID:</strong> {{ order.user_id }}</p>
        <p><strong>Order Date:</strong> {{ order.date }}</p>
        <p><strong>Status:</strong> 
            {% if order.status == 'Delivered' %}
                <span style="color: var(--success-green); font-weight: 600;">‚úì {{ order.status }}</span>
            {% elif order.status == 'Processing' %}
                <span style="color: #3498db; font-weight: 600;">‚è≥ {{ order.status }}</span>
            {% elif order.status == 'Shipped' %}
                <span style="color: var(--primary-yellow); font-weight: 600;">üöö {{ order.status }}</span>
            {% else %}
                {{ order.status }}
            {% endif %}
        </p>
        <p><strong>Total Items:</strong> {{ order.total_items }}</p>
        <p><strong>Total Price:</strong> {{ order.total | currency_idr }}</p>
    </div>

    <h3 style="margin-bottom: 15px;">Items in this Order</h3>
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: var(--bg-light); text-align: left;">
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">SKU</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Name</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Quantity</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Unit Price</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order["items"] %}
            <tr>
                <td style="padding: 10px;">{{ item.sku }}</td>
                <td style="padding: 10px;">{{ item.name }}</td>
                <td style="padding: 10px;">{{ item.quantity }}</td>
                <td style="padding: 10px;">{{ item.price | currency_idr }}</td>
                <td style="padding: 10px;">{{ (item.price * item.quantity) | currency_idr }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div style="margin-top: 30px; text-align: center;">
        <a href="{{ url_for('order_history') }}" style="text-decoration: none;">
            <button style="background: var(--primary-green); color: var(--white); padding: 12px 25px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer;">
                ‚Üê Back to Order History
            </button>
        </a>
    </div>
</div>
{% endblock %}
